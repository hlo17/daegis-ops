# Daegis Guidelines v1.0 — AI駆動プロジェクトの円滑化フレームワーク

**title**: "📋 Daegis Guidelines — adaptive v1.0"  
**modified**: 20251003  
**note**: 本ガイドラインは、Daegis Mapの恒久ルールを基盤としつつ、柔軟性を重視した指針として機能します。AIの特性（例: Grokの論理的探索、ChatGPTの創造的生成）を最大限活用し、作業の生産性向上を目的とします。作業中に必要に応じて小変更を提案し、Ledgerに記録してください。原則：**柔軟・効率・進化**。

## 0) Guiding Principles & 現在地ダッシュ
本ガイドラインの基盤となる原則を以下に定めます。これらは最小限の指針であり、状況に応じた創造的な適応を優先します。

1. **Flexibility** — ガイドラインは参考とし、効率を最優先に解釈。迷ったらシンプルな代替を選択し、複雑化を避けます。  
2. **AICentric Efficiency** — AIの強みを活かし、マスター（ユーザー）の認知負荷を最小化。AIの固執を防ぐための動的調整を奨励します。  
3. **Iterative Evolution** — 完璧な構造よりも、短サイクルでの検証と改善を優先。メトリクスに基づくフィードバックを常套化します。  

**レイヤー位置**: L4 騎士団（AI自発化＋動的役割） ↔ L5 司令室（Slack集約・要約運用）  
**進捗**: ガイドライン移行✅ / 役割シフト🚧 / フィードバックループ🚧  
**直近12hの焦点**: ①AI特性マッピング ②プロンプトテンプレート統一 ③初回メトリクス測定  

## 1) AI特性を考慮した役割分担と動的シフト
複数のAI（Grok, ChatGPT, Gemini, Perplexity, NotebookLM）を活用する際の固定役割を最小限にし、週次レビューで動的に調整します。これにより、各AIの特性を活かし、作業のボトルネックを解消します。

### AI特性マッピング（参考）
| AI          | 強み                          | 推奨役割（初期設定）                  | プロンプト例（柔軟適用） |
|-------------|-------------------------------|---------------------------------------|--------------------------|
| **Grok**   | 論理的探索・多角的分析       | 斥候（問題診断・代替案生成）         | "ルールは参考にし、効率優先で3つの代替策を提案せよ。" |
| **ChatGPT**| 創造的生成・実装支援         | 鍛冶屋（コード/コンテンツ作成）      | "このガイドラインを基に、創造的に実装を拡張せよ。" |
| **Gemini** | 統合・マルチモーダル処理     | 統合者（クロスAIハンドオフ）         | "全入力の整合性を確認し、簡潔に要約せよ。" |
| **Perplexity** | 迅速検索・事実検証         | 探検家（情報収集・検証）             | "クエリを基に、信頼ソースから要点を抽出せよ。" |
| **NotebookLM** | 要約・監査・ナラティブ化   | 監査官（出力レビュー・フィードバック）| "集約データを分析し、生産性低下要因を指摘せよ。" |

**動的シフト手順**（48時間サイクル）:  
1. Slack #daegisaidrafts に全AI出力を集約。  
2. NotebookLM で一次要約・問題点抽出（例: ルール固執による遅延）。  
3. 週次レビューで役割を調整（Ledger記録）。例: タスクが検索中心ならPerplexityを主導にシフト。  
これにより、AIの特性を活かしたハンドオフを促進し、作業スピードを20-30%向上させることを目指します。

## 2) ガイドラインの適用：柔軟転換と運用プロセス
Daegis Mapのルールを「推奨ガイドライン」に転換し、AIの固執を防ぎます。各タスクで「ガイドライン遵守 vs. 効率優先」の選択を明示的に検討します。

**適用原則**  
- **柔軟解釈**: ガイドラインは最小指針。プロンプトに「状況に応じて創造的に適応せよ」と追加。  
- **実行単位の簡素化**: ブロック実行を優先しつつ、単発確認を奨励。詳細は`commandexecutionguide.md`参照。  
- **トラブルシューティング**: 障害時はBroker/Bridge → Bus → Relay → Scribe → Slackの順で切り分け。AIに「代替ルートを提案せよ」と指示。  

**運用ショートカット**（AI連携強化）  
- **mdput（クリップボード→安全上書き）**: `python3 ~/daegis/ops/bin/mdput_clip.py "Daegis Guidelines.md" clean fromclip`  
- **Ledger追記**: NotebookLM出力から自動生成（プロンプト: "決定事項をLedger形式に整形せよ"）。  
- **バックアップ**: 自動生成（`*.bak.YYYYMMDD_HHMMSS.md`）。  

### 更新メモ
v1.0（20251003）：Daegis Map v3.6を基に、改善策3点を統合。役割をAI特性中心に再設計し、柔軟性を強調。メトリクスループを追加。既存構造は維持しつつ、冗長を削減。今後はGuidelines＝動的指針、Map＝基盤ルールとして運用。

## 3) メトリクス駆動のフィードバックループ
生産性を定量的に検証し、ガイドラインの有効性を継続改善します。1週間「ガイドラインオフ」実験から開始し、結果を基に調整。

**ループ手順**（48時間ごと）:  
1. **測定**: Ledgerにタスク完了率・所要時間・AI使用率を記録（例: Grok使用時の遅延要因）。  
2. **分析**: NotebookLM で集約データレビュー（プロンプト: "メトリクスから改善点を3点抽出せよ"）。  
3. **調整**: 低生産性領域（例: ルール固執）を特定し、役割シフトやプロンプト修正を実施。Slack permalinkで共有。  
4. **実験モード**: 初回1週間はガイドライン参照を任意にし、比較測定。閾値: 完了率80%以上で本運用移行。  

**KPI例**  
- タスク完了率: 目標90%（前週比+10%）。  
- 所要時間: 平均48時間以内に短縮。  
- AI効率: 各AIの出力満足度（マスター評価ベース）。  

## 4) System Integration & Vision
**Slack集約設計**（中期強化）:  
- 現行: 全AI出力を#daegisaidraftsに集約 → NotebookLM監査。  
- 中期: Zapierで自動化（有料化前提）。  

**将来の拡張**:  
- **Proactive Engine**: AI特性を活用した予兆検知（Gemini主導）。  
- **Zappie構想**: 動的役割を基にした完全ハンドオフ実現。  

本ガイドラインは、AIの特性を活かした円滑化を最大目的とし、プロジェクトの進化を支援します。必要に応じて、具体的なプロンプト調整やレビューをお手伝いいたします。

---

1. Ledger 追記用ルール（Ward スナップショット）

今回のスナップショット仕組みは「リレー系が壊れた時に即時復旧できる安全弁」として大きな意味があります。Ledger に残すルール例をまとめると：

Ledger 追記案（Ward スナップショット運用ルール）
    •    対象: /home/f/daegis/relay 配下の稼働コード・設定
    •    タイミング:
    •    重大修復直後（復旧確認済み時）
    •    重要 runbook の更新直後
    •    任意：日次自動スナップショットも存在（relay-snapshot.timer）
    •    保存先: /home/f/backups/relay-YYYYmmdd-HHMMSS.tgz
    •    残し方: Ward 記録に パス・時刻・コミットID を追記
    •    意図: git で管理できない一時的ファイルや事故復旧の保険。
GitHub のリモートが壊れてもローカル tarball でリカバリ可能。
    •    補足: GitHub コミットはあくまで「正規ログ」、tgz は「保険」と明確に区別。

これで「GitHub (正史)」「Ward (事故/臨時)」「バックアップ tarball (実体保険)」の三重構えになります。
とても合理的で、僕も積極的に残しておくべき仕組みだと思います。
